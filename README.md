# Платформа для отслеживания и симуляции торговли валютами
Домашнее задание по предмету "Основы Python". Проект №3

Это комплексная платформа, которая позволяет пользователям регистрироваться, 
управлять своим виртуальным портфелем фиатных и криптовалют, 
совершать сделки по покупке/продаже, а также отслеживать актуальные курсы в реальном времени. 
Система состоит из двух основных сервисов:

* **Сервис Парсинга (Parser Service)**: Отдельное приложение, которое по запросу или 
расписанию обращается к публичным API, получает актуальные курсы, сравнивает их с 
предыдущими значениями и сохраняет историю в базу данных. 

* **Основной Сервис (Core Service)**: Главное приложение, которое предоставляет 
пользовательский интерфейс (CLI), управляет пользователями, их кошельками, историей 
транзакций и взаимодействует с сервисом парсинга для получения актуальных курсов.

## Ключевые технологии и концепции
Проект охватывает широкий спектр тем, необходимых для современной разработки на Python:

* Управление проектом: 
  * Poetry для инициализации, управления зависимостями и сборки пакета. 
  * Makefile для автоматизации рутинных команд.
* Контроль версий: 
  * Git для отслеживания изменений. Рекомендуется вести разработку по методике ветвления 
Gitflow или Github Flow.
* Качество кода: 
  * Ruff для статического анализа и форматирования кода в соответствии со стандартом PEP8.
* Основы Python: Глубокое погружение в объектно-ориентированное программирование. 
* Продвинутые аспекты Python: 
  * Применение try...except для обработки исключений;
  * Использование декораторов для расширения функциональности (логирование, подтверждение 
действий) и замыканий для реализации кэширования.

## Библиотеки и зависимости

* Внешние: 
  * ruff (для разработки), 
  * prettytable (для форматированного вывода).
* Стандартные: 
  * json для работы с файлами.

## Запуск

### Установка зависимостей

Проект использует [Poetry](https://python-poetry.org/) для управления зависимостями. 
Если Poetry у вас ещё не установлен, вы можете установить его следующим образом:

```bash
pip install poetry
```

После установки Poetry выполните команду для установки всех зависимостей:

```bash
poetry install
```

или MakeFile:

```bash
make install
```

### Запуск

Для запуска используйте команду:

```bash
poetry run project --config <путь до файла конфигурации> --ps-config <путь до файла конфигурации PerserService> --loger-config <путь до файла конфигурации логгера>
```

или Makefile:

```bash
make project CONFIG=<путь до файла конфигурации> PS_CONFIG=<путь до файла конфигурации PerserService> LOGGER_CONFIG=<путь до файла конфигурации логгера>
```

### Файл конфигурации

При запуске приложения необходимо передать пути до 3 файлов конфигурации

* основная конфигурация;
* конфигурация для ParserService;
* конфигурация для логгера.
    

#### Основная конфигурация

Шаблон файла:

```json
{
  "data_path": "",
  "base_currency": "",
  "user_passwd_min_length": 4,
  "rates_file_path": "",
  "rates_update_interval": 5
}
```

<table>
    <tr>
        <th>Название параметра</th>
        <th>Тип значений</th>
        <th>Значение по умолчанию</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>data_path</td>
        <td>str</td>
        <td></td>
        <td>Путь до директории с файлами данных</td>
    </tr>
    <tr>
        <td>base_currency</td>
        <td>str</td>
        <td>USD</td>
        <td>код базовой валюты (в верхнем регистре)</td>
    </tr>
    <tr>
        <td>user_passwd_min_length</td>
        <td>int</td>
        <td>4</td>
        <td>минимальная длинна пароля пользователя</td>
    </tr>
    <tr>
        <td>rates_file_path</td>
        <td>str</td>
        <td></td>
        <td>путь до файла с курсами валют</td>
    </tr>
    <tr>
        <td>rates_update_interval</td>
        <td>int</td>
        <td>5</td>
        <td>интервал обновления курсов в минутах</td>
    </tr>
</table>

#### Конфигурация для ParserService

Шаблон файла:

```json
{
  "log_file_name": "<название файла с логами>",
  "logs_dir_path": "<путь до>"
}
```

